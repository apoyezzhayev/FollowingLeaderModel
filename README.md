# Семестровый проект: Transport Modelling
В проекте реализованы 2 популярных модели Following Leader: platoons и General Motors.

Для сравнения всех моделей была использована симуляция в течении часа (симуляционного времени), т.к написанные вручную модели используют Python интерфейсы для взаимодействия c SUMO и работают достаточно долго (при количестве транспортных средств порядка 2000 около 1 итерации в секунду). Симуляции для написанных моделей отрабатывали за 4-15 часов.

Мы решили снимать данные о потоке и плотности напрямую из симуляции, а не по датчикам. То есть с помощью подписки на определенные линии (дорог): с помощью подписки на lanes в SUMO. В результате симуляции генерировался файл fundamental_out_*_*.xml в котором была информация о density, occupancy, speed, т.е. всей необходимой информации для построения фундаментальных диаграмм. Частота снятия данных 60 секунд (в связи с малой длительностью симуляции).

Потоки транспортных средств генерировались таким образом чтобы вызвать заторы на основных дорогах примерно на 30 минуте симуляции. В потоке ТС использовались только один тип ТС - легковой автомобиль длиной 5м.

Маршрутизация строилась с помощью программы DUAROUTER. Все эксперименты проводились на выбранном участке транспортной сети города Maryland. Отладка и тесты проводились также на простой прямой дороге.

Для симуляции были использованы модели:
- Krauss modified - базовая модель SUMO
- General Motors Following Leader model
- Platoons

В 2 сценариях:
- Светофорная маршрутизация
- Бессветофорная маршрутизация

## Запуск скриптов
Для запуска симуляции с базовой моделью использовать:
```
sumo -c maryland/testmap.sumocfg -a edge_output_gen.xml
```
Для запуска конкретной модели:
```
python test.py -c maryland/testmap.sumocfg -m {gm or platoons} --nogui -a maryland/edge_output_gen_{GMModel or Platoons}.xml -s 3600
```

Для указания безсветофорных перекрестков нужно выбрать второй файл .sumocfg, в котором указана ссылка на сеть 
без светофоров.

## Notebook
Демонстрационный [ноутбук](Fundamental_diagramm.ipynb) для расчета и отрисовки фундаментальных диаграмм, а также построения зависимостей alpha 
(для модели General Motors).
  